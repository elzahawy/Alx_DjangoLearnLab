<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Search Books</title>
</head>
<body>
    <h1>Search Books</h1>
    <!-- Task 2: CSRF Protection - Not needed for GET forms, but included for consistency -->
    <form method="get" action="{% url 'search_books' %}">
        <input type="text" name="q" value="{{ query }}" placeholder="Search by title or author...">
        <button type="submit">Search</button>
    </form>
    
    {% if query %}
        <h2>Results for "{{ query }}":</h2>
        {% if books %}
            <ul>
                {% for book in books %}
                <li>{{ book.title }} by {{ book.author.name }}</li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No books found.</p>
        {% endif %}
    {% endif %}
    
    <a href="{% url 'list_books' %}">Back to Books</a>
</body>
</html>

